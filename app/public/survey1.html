<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>FriendFinder Survey Page</title>

	<!-- Latest compiled and minified CSS & JS -->


	<!-- Chosen -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

	--
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

	<!-- Font Awesome Glyphicons -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

		<!-- Chosen -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>


     <!-- /////////////color variation////////////// -->
     <!-- <script
     src="https://code.jquery.com/jquery-3.3.1.js"
     integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
     crossorigin="anonymous"
   ></script>
   <link
     href="https://stackpath.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css"
     rel="stylesheet"
     integrity="sha384-+ENW/yibaokMnme+vBLnHMphUYxHs34h9lpdbSLuAwGkOKFRl4C34WkjazBtb7eT"
     crossorigin="anonymous"
   />
   <script
     src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
     integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
     crossorigin="anonymous"
   ></script> -->

   <!-- /// -->
   <!-- /////////////////////////// -->
    
    <!-- ///////////color black//////////////// -->
<!-- <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
    <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.4.1/slate/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script> -->

<!-- //// -->

  <!-- Custom styling for this template -->
  <!-- <link href="style.css" rel="stylesheet" /> -->

</head>

<body>
	<div class="container">
	    
            <h1>Survey Questions</h1>
			<br>
			
			<h3><strong>Name and Photo</strong></h3>
			<h5>Your Name (Required)</h5>
		     <input type="text" name="name" id="name" class="form-control" required placeholder="Enter Name">

		     <h5>Link To a Picture of You (Required)</h5>
		     <input type="url" name="photo" id="photo" class="form-control" required placeholder="Enter URL to Image">

		     <hr>

		    <h3><strong>Question 1</strong></h3>
		      <h5>You are always looking for an adventure.</h5>
	 	        <select data-placeholder="" class="chosen-select" id="q1">
	 				<option value=""></option>
            		<option value="1">1 (Strongly Disagree)</option>
            		<option value="2">2</option>
            		<option value="3">3</option>
            		<option value="4">4</option>
            		<option value="5">5 (Strongly Agree)</option>
      			</select>

			<h3><strong>Question 2</strong></h3>
				<h5>Generally speaking, you rely more on your instinct than your imagination.</h5>
	 			<select data-placeholder="" class="chosen-select" id="q2">
	 				<option value=""></option>
            		<option value="1">1 (Strongly Disagree)</option>
            		<option value="2">2</option>
            		<option value="3">3</option>
            		<option value="4">4</option>
            		<option value="5">5 (Strongly Agree)</option>
      			</select>


				<h3><strong>Question 3</strong></h3>
					<h5>You find it easy to stay relaxed and focused even when there is some pressure.</h5>
	 				<select data-placeholder="" class="chosen-select" id="q3">
	 					<option value=""></option>
            			<option value="1">1 (Strongly Disagree)</option>
            			<option value="2">2</option>
            			<option value="3">3</option>
            			<option value="4">4</option>
            			<option value="5">5 (Strongly Agree)</option>
      				</select>


					<h3><strong>Question 4</strong></h3>
						<h5>You are generally an outdoors person.</h5>
	 					<select data-placeholder="" class="chosen-select" id="q4">
	 						<option value=""></option>
            				<option value="1">1 (Strongly Disagree)</option>
            				<option value="2">2</option>
            				<option value="3">3</option>
            				<option value="4">4</option>
            				<option value="5">5 (Strongly Agree)</option>
      					</select>


						<h3><strong>Question 5</strong></h3>
						<h5>Generally you accept people are people and rarely upset you.</h5>
	 					<select data-placeholder="" class="chosen-select" id="q5">
	 						<option value=""></option>
            				<option value="1">1 (Strongly Disagree)</option>
            				<option value="2">2</option>
            				<option value="3">3</option>
            				<option value="4">4</option>
            				<option value="5">5 (Strongly Agree)</option>
      					</select>


						<h3><strong>Question 6</strong></h3>
						<h5>You don't care to relate to other people’s feelings.</h5>
	 					<select data-placeholder="" class="chosen-select" id="q6">
	 						<option value=""></option>
            				<option value="1">1 (Strongly Disagree)</option>
            				<option value="2">2</option>
            				<option value="3">3</option>
            				<option value="4">4</option>
            				<option value="5">5 (Strongly Agree)</option>
      					</select>


						<h3><strong>Question 7</strong></h3>
						<h5>In a discussion, truth should be more important than people’s sensitivities.</h5>
	 					<select data-placeholder="" class="chosen-select" id="q7">
	 						<option value=""></option>
            				<option value="1">1 (Strongly Disagree)</option>
            				<option value="2">2</option>
            				<option value="3">3</option>
            				<option value="4">4</option>
            				<option value="5">5 (Strongly Agree)</option>
      					</select>

						<h3><strong>Question 8</strong></h3>
						<h5>You live more in dreams than reality.</h5>
	 					<select data-placeholder="" class="chosen-select" id="q8">
	 						<option value=""></option>
            				<option value="1">1 (Strongly Disagree)</option>
            				<option value="2">2</option>
            				<option value="3">3</option>
            				<option value="4">4</option>
            				<option value="5">5 (Strongly Agree)</option>
      					</select>

						<h3><strong>Question 9</strong></h3>
						<h5>You care about the well being of others and whole heartedly listen when someone is upset.</h5>
	 					<select data-placeholder="" class="chosen-select" id="q9">
	 						<option value=""></option>
            				<option value="1">1 (Strongly Disagree)</option>
            				<option value="2">2</option>
            				<option value="3">3</option>
            				<option value="4">4</option>
            				<option value="5">5 (Strongly Agree)</option>
      					</select>

						<h3><strong>Question 10</strong></h3>
						<h5>You would rather stay home watching TV then go out and socialize with others.</h5>
	 					<select data-placeholder="" class="chosen-select" id="q10">
	 						<option value=""></option>
            				<option value="1">1 (Strongly Disagree)</option>
            				<option value="2">2</option>
            				<option value="3">3</option>
            				<option value="4">4</option>
            				<option value="5">5 (Strongly Agree)</option>
      					</select>

								<br>
								<br>

					<!-- Submit Button -->
					<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>Submit</button>

					<hr>
					<footer class="footer">
						<div class="container" id="api-links">
						  <p>
							<i class="glyphicon glyphicon-heart" aria-hidden="true"></i

							><a href="/api/friends">API Friends List</a> | <a
							  target="_blank"
							  href="https://github.com/BGitana/FriendFinder.git"
							  >GitHub Repo</a
							>
						  </p>
						</div>
					  </footer>

	</div> <!-- container --> 
	

	<!-- Modal -->
	<div id="resultsModal" class="modal fade" role="dialog">
	  <div class="modal-dialog">

	    <!-- Modal content-->
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">&times;</button>
			 <h2 class="modal-title"><strong>Your Best Match</strong></h2>
		  </div>
		  	 <div class="modal-body">
				  <div class="row">
					 <div class="col-xs-5">
					     <!-- <h5 id="matchName">Lisa</h5> -->
						  <!-- <div id="friendNameDiv"></div> -->

						  <!-- ////////ORIGINAL/////////// -->
						  <!-- <img id="matchImg" src="https://media.giphy.com/media/2ca9aemQxIQXS/giphy.gif" 	alt="Your Best Friend"/> -->


						  <!-- ////////TEST/////////// -->
						  <img id="matchImg" src="" alt="Your Best Friend"/>

						  <!-- ////////TEST/////////// -->

						  <!-- <img id="friendImg" class="img img-responsive" alt="" /> -->
			              <!-- /////////////////////////////////////////////////////////////////////////// -->
	      				 <!-- <div class="modal-body">
	       				 <h2 id="matchName"></h2>
	       				 <img id="matchImg" src="file:///Users/lisavanorden/Documents/RCB_files/week13_files/wk13_hw/friendfinder/assets/images/floya_avatar_pic.jpg" alt="">
						 </div> -->
						 <br>
					 </div>
					 <div class="col-xs-7">
						<center>
							<!-- <h1 id="matchName">Lisa2</h1> -->
							<h1 id="matchName"></h1>
							<h5 id="match-stats">score 10</h5>
						</center>
					</div>

				  </div>
				</div>
						<div class="modal-footer">
					     <a href="/"><button type="button" class="btn btn-lg btn-primary">
                         <h4>Go Home</h4>
             	         </button></a>
						</div>
				
	     </div> <!-- Modal content-->
	 </div>
	</div><!-- Modal -->

      <!-- //This section sends form data to our server -->

  <script type="text/javascript">

  	// Chosen CSS
    var config = {
      '.chosen-select'           : {},
      '.chosen-select-deselect'  : {allow_single_deselect:true},
      '.chosen-select-no-single' : {disable_search_threshold:10},
      '.chosen-select-no-results': {no_results_text:'Oops, nothing found!'},
      '.chosen-select-width'     : {width:"95%"}
	}
	
    for (var selector in config) {
      $(selector).chosen(config[selector]);
	}
	

    // Capture the form inputs 
    $("#submit").on("click", function(){

    	// Form validation
    	function validateForm() {

			var complete = true;
			
		  var isValid = true;
		  $('.form-control').each(function() {
		    if ( $(this).val() === '' ) {
				isValid = false;
			}
		  });

		  $('.chosen-select').each(function() {

		  	if( $(this).val() === "") {
				  isValid = false
			  }
		  });

		  return isValid;
		}

		// If all required fields are filled
		if (validateForm() == true) {

			////////////////
// If all required fields are filled

			/////////////////
			// Create an object for the user's data
	    	var userData = {
	    		name: $("#name").val().trim(),
	    		photo: $("#photo").val().trim(),
	    		scores: [
					$("#q1").val(), 
					$("#q2").val(), 
					$("#q3").val(), 
					$("#q4").val(), 
					$("#q5").val(), 
					$("#q6").val(), 
					$("#q7").val(), 
					$("#q8").val(), 
					$("#q9").val(), 
					$("#q10").val(), 
				]
			};
			

	    	// Grab the URL of the website
	    	var currentURL = window.location.origin;

			// AJAX post the data to the friends API. 
			// The $() is the shorthand version of jQuery() used in the jQuery Library.
	    	$.post(currentURL + "/api/friends", userData, function(data){

	    		// Grab the result from the AJAX post so that the best match's name and photo are displayed.
	    		$("#matchName").text(data.name);
	    		$('#matchImg').attr("src", data.photo);
		    	// Show the modal with the best match 
				$("#resultsModal").modal('toggle');
				console.log(data);

	    	});
		}
		else
		{
			alert("Hey. Please fill out all fields before submitting!");
		}
    	
    	return false;
    });


  </script>


</body>
</html>

<!-- Compatibility should be determined based on the following.
Each user's results should be converted into a simple array of numbers (ex: [5, 1, 4, 4, 5, 1, 2, 5, 4, 1]).
You will then compare the difference between the user's scores against other users' scores, question by question. You will then add up the differences to calculate the totalDifference.
Example:
User 1: [5, 1, 4, 4, 5, 1, 2, 5, 4, 1]
User 2: [3, 2, 6, 4, 5, 1, 2, 5, 4, 1]
Total Difference: 2 + 1 + 2 = 5
Remember to use the absolute value of the differences (i.e 5-3 and 3-5 should both be 2).
The person with the closest match should be the one with the "least" amount of difference.
Once you've determined the closest match, display the result back to the user in the form of a modal pop-up.
The result should display both t
 -->

